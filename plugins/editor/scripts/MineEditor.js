"use strict";var editor_config={import_material_icons:!1,material_icons:"MaterialDesign-Webfont-master/css/materialdesignicons.css",apply_style:!1,language:{words:"words",word:"word",lines:"lines",line:"line",columns:"columns",column:"column"},style:"\n\t ",editorcontent:'\n\t <div class="MineEditor-menuebar">\n\t\t <button class="MineEditor-button" data-attribute="undo" tooltip="undo"><i class="material-icons mdi mdi-arrow-left"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="redo" tooltip="redo"><i class="material-icons mdi mdi-arrow-right"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="paste" tooltip="paste text"><i class="material-icons mdi mdi-content-paste"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="copy" tooltip="copy selection"><i class="material-icons mdi mdi-content-copy"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="cut" tooltip="cut selection"><i class="material-icons mdi mdi-content-cut"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="bold" tooltip="fromat bold"><i class="mdi mdi-format-bold"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="italic" tooltip="fromat italic"><i class="mdi mdi-format-italic"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="underline" tooltip="fromat underline"><i class="mdi mdi-format-underline"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="strikeThrough" tooltip="fromat strikethrough"><i class="mdi mdi-format-strikethrough-variant"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="justifyleft" tooltip="justify left"><i class="mdi mdi-format-align-left"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="justifycenter" tooltip="justify center"><i class="mdi mdi-format-align-center"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="justifyright" tooltip="justify right"><i class="mdi mdi-format-align-right"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="justifyFull" tooltip="justify full"><i class="mdi mdi-format-align-justify"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="foreColor" tooltip="color text"><input type="color" hidden/><i class="mdi mdi-format-color-text"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="backColor" tooltip="color background"><input type="color" hidden/><i class="mdi mdi-format-color-fill"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="insertUnorderedList" tooltip="insert unordered list"><i class="mdi mdi-format-list-bulleted"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="insertOrderedList" tooltip="insert ordered list"><i class="mdi mdi-format-list-numbers"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="createLink" tooltip="create link"><i class="mdi mdi-link-variant"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="unlink" tooltip="remove link"><i class="mdi mdi-link-variant-off"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="insertImage" tooltip="insert image"><i class="mdi mdi-image"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="insertEmote" tooltip="insert emote"><i class="mdi mdi-emoticon"></i></button>\n\t\t <button class="MineEditor-button" data-attribute="delete" tooltip="delete"><i class="mdi mdi-backspace"></i></button>\n\t </div>\n\t \t<div class="MineEditor-canvas" contenteditable></div>\n \t \t<div class="MineEditor-bottom">\n      <p class="MineEditor-lines"></p>\n      <p class="MineEditor-words"></p>\n      <p class="MineEditor-columns"></p>\n      <p class="MineEditor-credits">by <a href="https://github.com/MinimineLP/" target="_blank">Minimine</a></p>\n    </div>\n\t '};function insertAfter(t,e){e.parentNode.insertBefore(t,e.nextSibling)}function addStyle(t){var e=document.createElement("style");e.innerHTML=t,document.head.appendChild(e)}function addStylesheet(t){var e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,document.head.appendChild(e)}function guid(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function getFirstSubElementByClass(t,e){for(var i=0,n=t.childNodes;i<n.length;i++){var o=n[i];if(o.className==e)return o}}function getEditorCanvas(t){return getFirstSubElementByClass(t,"MineEditor-canvas")}Element.prototype.remove=function(){this.parentElement.removeChild(this)};var toManageEditors=[];global.reloadEditors=function(){for(var t=0,e=document.getElementsByClassName("MineEditor");t<e.length;t++){e[t].remove()}toManageEditors=[];for(var i=0,n=document.getElementsByClassName("editor");i<n.length;i++){var o=n[i],a=guid(),r=document.createElement("div");r.innerHTML=editor_config.editorcontent,r.classList.add("MineEditor"),r.id=a,o.style.display="none",o.setAttribute("editor",a),getEditorCanvas(r).innerHTML=o.value,getEditorCanvas(r).setAttribute("placeholder",o.placeholder),getEditorCanvas(r).onkeyup=o.onkeyup,getEditorCanvas(r).onkeydown=o.onkeydown,getEditorCanvas(r).onkeypress=o.onkeypress,getEditorCanvas(r).onclick=o.onclick,getEditorCanvas(r).onmousedown=o.onmousedown,getEditorCanvas(r).onmouseup=o.onmouseup,getEditorCanvas(r).addEventListener("click",function(){var t=event.target;"a"==t.tagName.toLowerCase()&&t.href&&event.ctrlKey&&(window.open(t.href,"_blank").focus(),event.preventDefault())}),insertAfter(r,o),toManageEditors.push({id:a,bef:o,LastTickContent:guid(),EditorLastTickContent:guid()})}document.body.addEventListener("keydown",function(t){t.ctrlKey&&document.body.classList.add("ctrl_pressed"),t.shiftKey&&document.body.classList.add("shift_pressed"),t.altKey&&document.body.classList.add("alt_pressed")}),document.body.addEventListener("keyup",function(t){t.ctrlKey||document.body.classList.remove("ctrl_pressed"),t.shiftKey||document.body.classList.remove("shift_pressed"),t.altKey||document.body.classList.remove("alt_pressed")}),editor_config.import_material_icons&&addStylesheet(editor_config.material_icons),editor_config.apply_style&&addStyle(editor_config.style);var s=document.getElementsByClassName("MineEditor-button"),d=function(t){window.getSelection();getSelection(getEditorCanvas(t.parentNode.parentNode));var e=t.childNodes;if("paste"!=t.dataset.attribute)if("insertEmote"!=t.dataset.attribute)if("createLink"!=t.dataset.attribute&&"insertImage"!=t.dataset.attribute){for(var i=0;i<e.length;i++){var n=e[i];"input"==n.tagName.toLowerCase()&&"color"==n.getAttribute("type").toLowerCase()&&n.click()}document.execCommand(t.dataset.attribute,!1)}else{var o=prompt("Please enter the Link here");null!=o&&document.execCommand(t.dataset.attribute,!1,o)}else window.open("https://emojipedia.org/","_blank");else navigator.clipboard.readText().then(function(t){document.execCommand("insertHTML",!1,t)})};for(o=0;o<s.length;o++){for(var l=s[o].childNodes,u=0;u<l.length;u++){var c=l[u];"input"==c.tagName.toLowerCase()&&"color"==c.getAttribute("type").toLowerCase()&&c.addEventListener("change",function(){var t=this.value,e=this.parentElement;null!=t&&document.execCommand(e.dataset.attribute,!0,t)})}s[o].addEventListener("click",function(t){"input"!=event.target.tagName.toLowerCase()&&(t.preventDefault(),d(this))},!1)}},global.reloadEditors(),setInterval(function(){for(var t=0,e=toManageEditors;t<e.length;t++){var i=e[t],n=document.getElementById(i.id);if(i.LastTickContent!=i.bef.value)getEditorCanvas(n).innerHTML=i.bef.value;else{if(i.EditorLastTickContent==getEditorCanvas(n).innerHTML)continue;i.bef.value=getEditorCanvas(n).innerHTML}i.LastTickContent=i.bef.value,i.EditorLastTickContent=getEditorCanvas(n).innerHTML;var o,a=0,r=0,s=editor_config.language.lines,d=editor_config.language.words,l=editor_config.language.columns,u=getFirstSubElementByClass(getFirstSubElementByClass(n,"MineEditor-bottom"),"MineEditor-lines"),c=getFirstSubElementByClass(getFirstSubElementByClass(n,"MineEditor-bottom"),"MineEditor-words"),m=getFirstSubElementByClass(getFirstSubElementByClass(n,"MineEditor-bottom"),"MineEditor-columns");getEditorCanvas(n).innerText.match(/\n/g)&&(a=getEditorCanvas(n).innerText.match(/\n/g).length),getEditorCanvas(n).innerText.match(/\S+/g)&&(r=getEditorCanvas(n).innerText.match(/\S+/g).length),o=getEditorCanvas(n).innerText.length,0==a&&(a=1),1==a&&(s=editor_config.language.line),1==r&&(d=editor_config.language.word),1==o&&(l=editor_config.language.column),u.innerHTML=a+" "+s,c.innerHTML=r+" "+d,m.innerHTML=o+" "+l}},1),function(){var o=document.createElement("div");o.id="MineEditor_tooltip",o.style.display="none",document.body.appendChild(o),function(t){for(var e=[],i=document.getElementsByTagName("*"),n=0,o=i.length;n<o;n++)null!==i[n].getAttribute(t)&&e.push(i[n]);return e}("tooltip").forEach(function(n){n.addEventListener("mouseenter",function(t){if(this.getAttribute("tooltip")){var e=function(t){for(var e=0,i=0,n=t.getBoundingClientRect(),o=n.height,a=n.width;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e+=t.offsetLeft-t.scrollLeft,i+=t.offsetTop-t.scrollTop,t=t.offsetParent;return{top:i,left:e,width:a,height:o}}(this),i=document.getElementById("MineEditor_tooltip");i.innerHTML=this.getAttribute("tooltip"),i.style.top=e.top+e.height+3+"px",i.style.left=e.left+e.width/2+"px",i.style.display=null}n.addEventListener("mouseleave",function(t){o.style.display="none"})})})}();