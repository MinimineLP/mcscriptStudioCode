{"version":3,"sources":["settingsapi.js","settingsapi.ts"],"names":["exports","__esModule","$","require","util_1","SettingsAPI","this","name","version","sites","prototype","loadFrame","frame","show","THIS","empty","settingsContent","document","createElement","id","classList","add","innerHTML","close","onclick","hide","nav","forEach","e","li","p","guid","innerText","parent","children","removeClass","addClass","append","renderContent","appendChild","push","index","length","splice","settingsapi"],"mappings":"AAAA,aACAA,QAAQC,YAAa,ECDrB,IAAAC,EAAAC,QAAA,UACAC,OAAAD,QAAA,4BAGAE,YAAA,WAAA,SAAAA,IACWC,KAAAC,KAAc,WACdD,KAAAE,QAAiB,QAE1BF,KAAAG,MAAwB,GAwD1B,OAtDEJ,EAAAK,UAAAC,UAAA,WACEL,KAAKM,MAAQV,EAAE,cAEjBG,EAAAK,UAAAG,KAAA,WACE,IAAIC,EAAOR,KACXQ,EAAKF,MAAMG,QAEX,IAAIC,EAAkCC,SAASC,cAAc,OAC7DF,EAAgBG,GAAK,kBACrBH,EAAgBI,UAAUC,IAAI,mBAC9BL,EAAgBM,UAAY,uyBAE5B,IAAIC,EAAqBN,SAASC,cAAc,KAChDK,EAAMJ,GAAK,gBACXI,EAAMH,UAAUC,IAAI,gBAAiB,MAAO,aAC5CE,EAAMC,QAAU,WACdV,EAAKW,QAGP,IAAIC,EAAwBT,SAASC,cAAc,MACnDQ,EAAIN,UAAUC,IAAI,eAClBK,EAAIP,GAAK,cAETL,EAAKL,MAAMkB,QAAQ,SAACC,GAClB,IAAIC,EAAKZ,SAASC,cAAc,MAC5BY,EAAIb,SAASC,cAAc,KAC/BW,EAAGV,GAAKf,OAAA2B,OACRD,EAAEE,UAAYJ,EAAErB,KAEhBsB,EAAGL,QAAU,WACXtB,EAAE,IAAI2B,EAAGV,IACNc,SACAC,SAAS,WACTC,YAAY,UACfjC,EAAEI,MAAM8B,SAAS,UACjBlC,EAAE,IAAIc,EAAgBG,IAAMJ,QAC5Bb,EAAE,IAAIc,EAAgBG,IAAMkB,OAAOT,EAAEU,kBAGvCT,EAAGU,YAAYT,GACfJ,EAAIa,YAAYV,KAElBf,EAAKF,MAAMyB,OAAOX,GAClBZ,EAAKF,MAAMyB,OAAOrB,GAClBF,EAAKF,MAAMyB,OAAOd,GAClBT,EAAKF,MAAMC,QAEbR,EAAAK,UAAAe,KAAA,WACEnB,KAAKM,MAAMG,QACXT,KAAKM,MAAMa,QAEbpB,EAAAK,UAAA8B,KAAA,SAAKZ,EAAiBa,QAAA,IAAAA,IAAAA,EAAgBnC,KAAKG,MAAMiC,QAC/CpC,KAAKG,MAAMkC,OAAOF,EAAO,EAAGb,IAEhCvB,EA5DA,GAAaL,QAAAK,YAAAA,YAmEFL,QAAA4C,YAAc,IAAIvC,YAE7BF,QAAQ,gBACRA,QAAQ","file":"settingsapi.js","sourcesContent":["\"use strict\";\nexports.__esModule = true;\nvar $ = require(\"jquery\");\nvar util_1 = require(\"@mcscriptstudiocode/util\");\nvar SettingsAPI = /** @class */ (function () {\n    function SettingsAPI() {\n        this.name = \"Settings\";\n        this.version = \"0.0.1\";\n        this.sites = [];\n    }\n    SettingsAPI.prototype.loadFrame = function () {\n        this.frame = $(\"#settings\");\n    };\n    SettingsAPI.prototype.show = function () {\n        var THIS = this;\n        THIS.frame.empty();\n        var settingsContent = document.createElement(\"div\");\n        settingsContent.id = \"settingsContent\";\n        settingsContent.classList.add(\"settingsContent\");\n        settingsContent.innerHTML = \"<div class=\\\"settingsContent-empty\\\"><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 20 20\\\"><path fill=\\\"none\\\" d=\\\"M0 0h20v20H0V0z\\\"/><path fill=\\\"#555\\\" d=\\\"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z\\\"/></svg></div>\";\n        var close = document.createElement(\"i\");\n        close.id = \"settingsClose\";\n        close.classList.add(\"settingsClose\", \"mdi\", \"mdi-close\");\n        close.onclick = function () {\n            THIS.hide();\n        };\n        var nav = document.createElement(\"ul\");\n        nav.classList.add(\"settingsNav\");\n        nav.id = \"settingsNav\";\n        THIS.sites.forEach(function (e) {\n            var li = document.createElement(\"li\");\n            var p = document.createElement(\"p\");\n            li.id = util_1.guid();\n            p.innerText = e.name;\n            li.onclick = function () {\n                $(\"#\" + li.id)\n                    .parent()\n                    .children(\".active\")\n                    .removeClass(\"active\");\n                $(this).addClass(\"active\");\n                $(\"#\" + settingsContent.id).empty();\n                $(\"#\" + settingsContent.id).append(e.renderContent());\n            };\n            li.appendChild(p);\n            nav.appendChild(li);\n        });\n        THIS.frame.append(nav);\n        THIS.frame.append(settingsContent);\n        THIS.frame.append(close);\n        THIS.frame.show();\n    };\n    SettingsAPI.prototype.hide = function () {\n        this.frame.empty();\n        this.frame.hide();\n    };\n    SettingsAPI.prototype.push = function (e, index) {\n        if (index === void 0) { index = this.sites.length; }\n        this.sites.splice(index, 0, e);\n    };\n    return SettingsAPI;\n}());\nexports.SettingsAPI = SettingsAPI;\nexports.settingsapi = new SettingsAPI();\nrequire(\"./plugins.js\");\nrequire(\"./install.js\");\n","import * as $ from \"jquery\";\nimport {guid} from '@mcscriptstudiocode/util'\nimport {Api} from '@mcscriptstudiocode/pluginmanager'\n\nexport class SettingsAPI implements Api {\n  readonly name:string = \"Settings\";\n  readonly version:string = \"0.0.1\";\n  frame: JQuery<HTMLElement>;\n  sites: SettingsSite[] = [];\n\n  loadFrame() {\n    this.frame = $(\"#settings\");\n  }\n  show() {\n    let THIS = this;\n    THIS.frame.empty();\n\n    let settingsContent: HTMLDivElement = document.createElement(\"div\");\n    settingsContent.id = \"settingsContent\";\n    settingsContent.classList.add(\"settingsContent\");\n    settingsContent.innerHTML = `<div class=\"settingsContent-empty\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path fill=\"none\" d=\"M0 0h20v20H0V0z\"/><path fill=\"#555\" d=\"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z\"/></svg></div>`;\n\n    let close: HTMLElement = document.createElement(\"i\");\n    close.id = \"settingsClose\";\n    close.classList.add(\"settingsClose\", \"mdi\", \"mdi-close\");\n    close.onclick = function() {\n      THIS.hide();\n    };\n\n    let nav: HTMLUListElement = document.createElement(\"ul\");\n    nav.classList.add(\"settingsNav\");\n    nav.id = \"settingsNav\";\n\n    THIS.sites.forEach((e: SettingsSite) => {\n      let li = document.createElement(\"li\");\n      let p = document.createElement(\"p\");\n      li.id = guid();\n      p.innerText = e.name;\n\n      li.onclick = function() {\n        $(`#${li.id}`)\n          .parent()\n          .children(\".active\")\n          .removeClass(\"active\");\n        $(this).addClass(\"active\");\n        $(`#${settingsContent.id}`).empty();\n        $(`#${settingsContent.id}`).append(e.renderContent());\n      };\n\n      li.appendChild(p);\n      nav.appendChild(li);\n    });\n    THIS.frame.append(nav);\n    THIS.frame.append(settingsContent);\n    THIS.frame.append(close);\n    THIS.frame.show();\n  }\n  hide() {\n    this.frame.empty();\n    this.frame.hide();\n  }\n  push(e: SettingsSite, index: number = this.sites.length) {\n    this.sites.splice(index, 0, e);\n  }\n}\n\nexport interface SettingsSite {\n  name: string;\n  renderContent(): string | HTMLElement;\n}\n\nexport let settingsapi = new SettingsAPI();\n\nrequire(\"./plugins.js\");\nrequire(\"./install.js\");\n"]}