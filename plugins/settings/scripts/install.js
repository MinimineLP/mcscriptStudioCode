"use strict";exports.__esModule=!0;var SiteAPI=require("@mcscriptstudiocode/siteapi"),SettingsAPI_1=require("./SettingsAPI"),pluginmanager_1=require("@mcscriptstudiocode/pluginmanager"),Path=require("path"),api=pluginmanager_1.PluginManager.instance.api;SettingsAPI_1.settingsapi.push({name:"install",renderContent:function(){var e=document.createElement("div"),p=document.createElement("ul");return e.id="settings_install",p.classList.add("settings_install","menu"),SiteAPI.loadSite(SiteAPI.parseURL("https://raw.githubusercontent.com/MinimineLP/mcscriptStudioCode/master/plugins/plugins.json"),function(e){JSON.parse(e).forEach(function(u){SiteAPI.loadSite(SiteAPI.parseURL(u),function(e){e=JSON.parse(e);for(var t=0;t<api.plugins.length;t++)if(api.plugins[t].name.toLowerCase()==e.name.toLowerCase())return;var n=document.createElement("li"),i=document.createElement("div"),a=document.createElement("p"),s=document.createElement("ul"),l=document.createElement("li"),d=document.createElement("li"),r=document.createElement("li"),o=document.createElement("button"),c=document.createElement("i");a.innerText=e.name,a.classList.add("name"),i.appendChild(a),l.innerText=e.author,l.classList.add("author"),s.appendChild(l),r.innerText=e.newestversion,r.classList.add("version"),s.appendChild(r),s.classList.add("subinfos"),i.appendChild(s),d.innerText=e.url,d.classList.add("url"),s.appendChild(d),c.classList.add("mdi","mdi-download"),o.appendChild(c),o.classList.add("installbutton"),o.onclick=function(){o.classList.add("clicked"),api.manager.installPlugin(u,Path.join(__dirname,"../.."),function(){o.parentElement.style.display="none",swal({title:'Installed "'+e.name+'" successfully!',text:'Installed "'+e.name+'" successfully! You need to restart the Editor if you want the Plugin to work. If you restart now, file changes will be lost, so save them now! Restart now?',icon:"success",buttons:[!0,"Restart now!"],dangerMode:!0}).then(function(e){e&&window.location.reload()})})},i.classList.add("infos"),n.appendChild(i),n.appendChild(o),p.appendChild(n)})})}),e.appendChild(p),e}});
//# sourceMappingURL=install.js.map
