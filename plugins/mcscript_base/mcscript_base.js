"use strict";var __extends=function(){var i=function(t,o){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var r in o)o.hasOwnProperty(r)&&(t[r]=o[r])})(t,o)};return function(t,o){function r(){this.constructor=t}i(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();exports.__esModule=!0;var config,pluginmanager_1=require("@mcscriptstudiocode/pluginmanager"),Config_1=require("@mcscriptstudiocode/Config"),mcscript=require("mcscript"),fs=require("fs"),Shortcutbar=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.setup=function(t){this.server=t},o.prototype.start=function(t){this.server=t,config=new Config_1.Config(__dirname+"/config.yml",Config_1.FileFormatters.Yaml),loadConfig();var r=!0;fs.watch(working_dir,function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];r&&(r=!1,config.get("autocompile")&&t[1].endsWith(".mcscript")&&mcscript.compile(working_dir,!0),r=!0)}),t.getAPI("shortcutbar").addButton("mcscript_compile","compile mcscript files",'<i class="mdi mdi-play"></i>',function(){mcscript.compile(working_dir,!0)})},o.prototype.stop=function(t){this.server=t},o.prototype.reload=function(t){this.server=t},o}(pluginmanager_1.Plugin);function loadConfig(){config.load(),config.setStandart("autocompile",!0),config.save()}exports.default=Shortcutbar;
//# sourceMappingURL=mcscript_base.js.map
